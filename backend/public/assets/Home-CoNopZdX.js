import{r as o,A as q,j as e,L as m,g as v,c as y,u as L}from"./index-DwHlaPch.js";import{L as E,y as l}from"./index-giiDsKKE.js";function S(){const{user:d,logout:j}=o.useContext(q),[h,x]=o.useState(!1),[b,p]=o.useState(!1),[c,g]=o.useState(""),f=o.useRef(null);async function N(){var t,a;try{x(!0);const{data:s}=await y({name:d.name});l.success(s.message)}catch(s){const r=(a=(t=s.response)==null?void 0:t.data)==null?void 0:a.error;l.error(r||"Error interno del servidor")}finally{x(!1)}}async function w(){var t,a;try{p(!0);const{data:s}=await L({name:d.name});l.success(s.message)}catch(s){const r=(a=(t=s.response)==null?void 0:t.data)==null?void 0:a.error;l.error(r||"Error interno del servidor")}finally{p(!1)}}const k=()=>j();return o.useEffect(()=>{(async()=>{var a;try{const s=await v();g(((a=s.data)==null?void 0:a.pixel)||"")}catch(s){console.error("No se pudo obtener pixel desde variables:",s)}})()},[]),o.useEffect(()=>{var t;if(c){if(f.current===c){(t=window.fbq)==null||t.call(window,"track","Lead");return}window.fbq||function(a,s,r,C,n,i,u){a.fbq||(n=a.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)},a._fbq||(a._fbq=n),n.push=n,n.loaded=!0,n.version="2.0",n.queue=[],i=s.createElement(r),i.async=!0,i.src=C,u=s.getElementsByTagName(r)[0],u.parentNode.insertBefore(i,u))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),window.fbq("init",c),window.fbq("track","Lead"),f.current=c}},[c]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"home-container",children:[e.jsxs("div",{className:"welcome-section",children:[e.jsxs("h1",{className:"welcome-title",children:["Bienvenido, ",e.jsx("span",{className:"user-name",children:d.name})]}),e.jsxs("div",{className:"password-alert",children:[e.jsx("span",{className:"alert-icon",children:"‚ö†Ô∏è"}),e.jsxs("p",{children:["Si es la primera vez que ingresas tu contrase√±a es ",e.jsx("strong",{children:"cambiar123"})]})]})]}),e.jsx("div",{className:"casino-link-container",children:e.jsxs(m,{target:"_blank",to:"https://birigol.com",className:"casino-link",children:[e.jsx("span",{className:"casino-icon",children:"üé∞"}),e.jsx("span",{className:"casino-text",children:"Link al casino ¬°CLICK AQUI!"}),e.jsx("span",{className:"shine-effect"})]})}),e.jsxs("div",{className:"action-buttons",children:[e.jsxs(m,{to:"/deposit",className:"action-button deposit-button",children:[e.jsx("span",{className:"button-icon",children:"üí∞"}),e.jsx("span",{className:"button-text",children:"Cargar Saldo"})]}),e.jsxs(m,{to:"/withdraw",className:"action-button withdraw-button",children:[e.jsx("span",{className:"button-icon",children:"üí∏"}),e.jsx("span",{className:"button-text",children:"Retirar Fondos"})]}),e.jsxs("button",{className:"action-button password-button",onClick:N,disabled:h,children:[e.jsx("span",{className:"button-icon",children:"üîë"}),e.jsx("span",{className:"button-text",children:h?"Cambiando...":"Cambiar Contrase√±a"})]}),e.jsxs("button",{className:"action-button logout-button",onClick:w,disabled:b,children:[e.jsx("span",{className:"button-icon",children:"üîì"}),e.jsx("span",{className:"button-text",children:b?"Desbloqueando...":"Desbloquear Usuario"})]})]}),e.jsx("button",{className:"logout-slim-button",onClick:k,children:e.jsx("span",{className:"logout-slim-text",children:"Cerrar Sesi√≥n"})})]}),e.jsx(E,{})]})}export{S as Home,S as default};
